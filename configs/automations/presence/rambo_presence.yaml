# Rambo is in the Basement using Google Home BT tracking
- alias: Rambo in Basement
  initial_state: 'on'
  trigger:
    platform: state
    entity_id: sensor.basement_rambo_gh_rssi
  condition:
    condition: and
    conditions:
    - condition: template
      value_template: "{{ ( states.sensor.garage_rambo_gh_rssi.state ) > ( states.sensor.basement_rambo_gh_rssi.state )  }}"
    - condition: template
      value_template: "{{ ( states.sensor.bedroom_rambo_gh_rssi.state ) > ( states.sensor.basement_rambo_gh_rssi.state )  }}"
    - condition: template
      value_template: "{{ ( states.sensor.office_rambo_gh_rssi.state ) > ( states.sensor.basement_rambo_gh_rssi.state )  }}"
    - condition: template
      value_template: "{{ ( states.sensor.mainfloor_rambo_gh_rssi.state ) > ( states.sensor.basement_rambo_gh_rssi.state )  }}"
    - condition: template
      value_template: "{{ ( states.sensor.entryway_rambo_gh_rssi.state ) > ( states.sensor.basement_rambo_gh_rssi.state )  }}"
    - condition: template
      value_template: "{{ ( states.sensor.guestroom_rambo_gh_rssi.state ) > ( states.sensor.basement_rambo_gh_rssi.state )  }}"
    - condition: template
      value_template: "{{ ( states.sensor.bathroom_rambo_gh_rssi.state ) > ( states.sensor.basement_rambo_gh_rssi.state )  }}"     
  action:
    - delay: '00:00:01'
    - condition: and
      conditions:
      - condition: template
        value_template: "{{ ( states.sensor.garage_rambo_gh_rssi.state ) > ( states.sensor.basement_rambo_gh_rssi.state )  }}"
      - condition: template
        value_template: "{{ ( states.sensor.bedroom_rambo_gh_rssi.state ) > ( states.sensor.basement_rambo_gh_rssi.state )  }}"
      - condition: template
        value_template: "{{ ( states.sensor.office_rambo_gh_rssi.state ) > ( states.sensor.basement_rambo_gh_rssi.state )  }}"
      - condition: template
        value_template: "{{ ( states.sensor.mainfloor_rambo_gh_rssi.state ) > ( states.sensor.basement_rambo_gh_rssi.state )  }}"
      - condition: template
        value_template: "{{ ( states.sensor.entryway_rambo_gh_rssi.state ) > ( states.sensor.basement_rambo_gh_rssi.state )  }}"
      - condition: template
        value_template: "{{ ( states.sensor.guestroom_rambo_gh_rssi.state ) > ( states.sensor.basement_rambo_gh_rssi.state )  }}"
      - condition: template
        value_template: "{{ ( states.sensor.bathroom_rambo_gh_rssi.state ) > ( states.sensor.basement_rambo_gh_rssi.state )  }}"  
    - service: input_boolean.turn_on
      data:
        entity_id: input_boolean.rambo_basement_presence
    - service: input_boolean.turn_off
      data:
        entity_id: input_boolean.rambo_garage_presence
    - service: input_boolean.turn_off
      data:
        entity_id: input_boolean.rambo_bedroom_presence
    - service: input_boolean.turn_off
      data:
        entity_id: input_boolean.rambo_office_presence
    - service: input_boolean.turn_off
      data:
        entity_id: input_boolean.rambo_mainfloor_presence
    - service: input_boolean.turn_off
      data:
        entity_id: input_boolean.rambo_entryway_presence
    - service: input_boolean.turn_off
      data:
        entity_id: input_boolean.rambo_guestroom_presence
    - service: input_boolean.turn_off
      data:
        entity_id: input_boolean.rambo_bathroom_presence
    - service: input_select.select_option
      data:
        entity_id: input_select.rambo_room_location
        option: Basement

# Rambo is in the Garage using Google Home BT tracking
- alias: Rambo in Garage
  initial_state: 'on'
  trigger:
    platform: state
    entity_id: sensor.garage_rambo_gh_rssi
  condition:
    condition: and
    conditions:
    - condition: template
      value_template: "{{ ( states.sensor.basement_rambo_gh_rssi.state ) > ( states.sensor.garage_rambo_gh_rssi.state )  }}"
    - condition: template
      value_template: "{{ ( states.sensor.bedroom_rambo_gh_rssi.state ) > ( states.sensor.garage_rambo_gh_rssi.state )  }}"
    - condition: template
      value_template: "{{ ( states.sensor.office_rambo_gh_rssi.state ) > ( states.sensor.garage_rambo_gh_rssi.state )  }}"
    - condition: template
      value_template: "{{ ( states.sensor.mainfloor_rambo_gh_rssi.state ) > ( states.sensor.garage_rambo_gh_rssi.state )  }}"
    - condition: template
      value_template: "{{ ( states.sensor.entryway_rambo_gh_rssi.state ) > ( states.sensor.garage_rambo_gh_rssi.state )  }}"
    - condition: template
      value_template: "{{ ( states.sensor.guestroom_rambo_gh_rssi.state ) > ( states.sensor.garage_rambo_gh_rssi.state )  }}"
    - condition: template
      value_template: "{{ ( states.sensor.bathroom_rambo_gh_rssi.state ) > ( states.sensor.garage_rambo_gh_rssi.state )  }}"     
  action:
    - delay: '00:00:01'
    - condition: and
      conditions:
      - condition: template
        value_template: "{{ ( states.sensor.basement_rambo_gh_rssi.state ) > ( states.sensor.garage_rambo_gh_rssi.state )  }}"
      - condition: template
        value_template: "{{ ( states.sensor.bedroom_rambo_gh_rssi.state ) > ( states.sensor.garage_rambo_gh_rssi.state )  }}"
      - condition: template
        value_template: "{{ ( states.sensor.office_rambo_gh_rssi.state ) > ( states.sensor.garage_rambo_gh_rssi.state )  }}"
      - condition: template
        value_template: "{{ ( states.sensor.mainfloor_rambo_gh_rssi.state ) > ( states.sensor.garage_rambo_gh_rssi.state )  }}"
      - condition: template
        value_template: "{{ ( states.sensor.entryway_rambo_gh_rssi.state ) > ( states.sensor.garage_rambo_gh_rssi.state )  }}"
      - condition: template
        value_template: "{{ ( states.sensor.guestroom_rambo_gh_rssi.state ) > ( states.sensor.garage_rambo_gh_rssi.state )  }}"
      - condition: template
        value_template: "{{ ( states.sensor.bathroom_rambo_gh_rssi.state ) > ( states.sensor.garage_rambo_gh_rssi.state )  }}"  
    - service: input_boolean.turn_on
      data:
        entity_id: input_boolean.rambo_garage_presence
    - service: input_boolean.turn_off
      data:
        entity_id: input_boolean.rambo_basement_presence
    - service: input_boolean.turn_off
      data:
        entity_id: input_boolean.rambo_bedroom_presence
    - service: input_boolean.turn_off
      data:
        entity_id: input_boolean.rambo_office_presence
    - service: input_boolean.turn_off
      data:
        entity_id: input_boolean.rambo_mainfloor_presence
    - service: input_boolean.turn_off
      data:
        entity_id: input_boolean.rambo_entryway_presence
    - service: input_boolean.turn_off
      data:
        entity_id: input_boolean.rambo_guestroom_presence
    - service: input_boolean.turn_off
      data:
        entity_id: input_boolean.rambo_bathroom_presence
    - service: input_select.select_option
      data:
        entity_id: input_select.rambo_room_location
        option: Garage


# Rambo is in the Bedroom using Google Home BT tracking
- alias: Rambo in Bedroom
  initial_state: 'on'
  trigger:
    platform: state
    entity_id: sensor.bedroom_rambo_gh_rssi
  condition:
    condition: and
    conditions:
    - condition: template
      value_template: "{{ ( states.sensor.basement_rambo_gh_rssi.state ) > ( states.sensor.bedroom_rambo_gh_rssi.state )  }}"
    - condition: template
      value_template: "{{ ( states.sensor.garage_rambo_gh_rssi.state ) > ( states.sensor.bedroom_rambo_gh_rssi.state )  }}"
    - condition: template
      value_template: "{{ ( states.sensor.office_rambo_gh_rssi.state ) > ( states.sensor.bedroom_rambo_gh_rssi.state )  }}"
    - condition: template
      value_template: "{{ ( states.sensor.mainfloor_rambo_gh_rssi.state ) > ( states.sensor.bedroom_rambo_gh_rssi.state )  }}"
    - condition: template
      value_template: "{{ ( states.sensor.entryway_rambo_gh_rssi.state ) > ( states.sensor.bedroom_rambo_gh_rssi.state )  }}"
    - condition: template
      value_template: "{{ ( states.sensor.guestroom_rambo_gh_rssi.state ) > ( states.sensor.bedroom_rambo_gh_rssi.state )  }}"
    - condition: template
      value_template: "{{ ( states.sensor.bathroom_rambo_gh_rssi.state ) > ( states.sensor.bedroom_rambo_gh_rssi.state )  }}"     
  action:
    - delay: '00:00:01'
    - condition: and
      conditions:
      - condition: template
        value_template: "{{ ( states.sensor.basement_rambo_gh_rssi.state ) > ( states.sensor.bedroom_rambo_gh_rssi.state )  }}"
      - condition: template
        value_template: "{{ ( states.sensor.garage_rambo_gh_rssi.state ) > ( states.sensor.bedroom_rambo_gh_rssi.state )  }}"
      - condition: template
        value_template: "{{ ( states.sensor.office_rambo_gh_rssi.state ) > ( states.sensor.bedroom_rambo_gh_rssi.state )  }}"
      - condition: template
        value_template: "{{ ( states.sensor.mainfloor_rambo_gh_rssi.state ) > ( states.sensor.bedroom_rambo_gh_rssi.state )  }}"
      - condition: template
        value_template: "{{ ( states.sensor.entryway_rambo_gh_rssi.state ) > ( states.sensor.bedroom_rambo_gh_rssi.state )  }}"
      - condition: template
        value_template: "{{ ( states.sensor.guestroom_rambo_gh_rssi.state ) > ( states.sensor.bedroom_rambo_gh_rssi.state )  }}"
      - condition: template
        value_template: "{{ ( states.sensor.bathroom_rambo_gh_rssi.state ) > ( states.sensor.bedroom_rambo_gh_rssi.state )  }}"  
    - service: input_boolean.turn_on
      data:
        entity_id: input_boolean.rambo_bedroom_presence
    - service: input_boolean.turn_off
      data:
        entity_id: input_boolean.rambo_basement_presence
    - service: input_boolean.turn_off
      data:
        entity_id: input_boolean.rambo_garage_presence
    - service: input_boolean.turn_off
      data:
        entity_id: input_boolean.rambo_office_presence
    - service: input_boolean.turn_off
      data:
        entity_id: input_boolean.rambo_mainfloor_presence
    - service: input_boolean.turn_off
      data:
        entity_id: input_boolean.rambo_entryway_presence
    - service: input_boolean.turn_off
      data:
        entity_id: input_boolean.rambo_guestroom_presence
    - service: input_boolean.turn_off
      data:
        entity_id: input_boolean.rambo_bathroom_presence
    - service: input_select.select_option
      data:
        entity_id: input_select.rambo_room_location
        option: Bedroom


# Rambo is in the Office using Google Home BT tracking
- alias: Rambo in Office
  initial_state: 'on'
  trigger:
    platform: state
    entity_id: sensor.office_rambo_gh_rssi
  condition:
    condition: and
    conditions:
    - condition: template
      value_template: "{{ ( states.sensor.basement_rambo_gh_rssi.state ) > ( states.sensor.office_rambo_gh_rssi.state )  }}"
    - condition: template
      value_template: "{{ ( states.sensor.garage_rambo_gh_rssi.state ) > ( states.sensor.office_rambo_gh_rssi.state )  }}"
    - condition: template
      value_template: "{{ ( states.sensor.bedroom_rambo_gh_rssi.state ) > ( states.sensor.office_rambo_gh_rssi.state )  }}"
    - condition: template
      value_template: "{{ ( states.sensor.mainfloor_rambo_gh_rssi.state ) > ( states.sensor.office_rambo_gh_rssi.state )  }}"
    - condition: template
      value_template: "{{ ( states.sensor.entryway_rambo_gh_rssi.state ) > ( states.sensor.office_rambo_gh_rssi.state )  }}"
    - condition: template
      value_template: "{{ ( states.sensor.guestroom_rambo_gh_rssi.state ) > ( states.sensor.office_rambo_gh_rssi.state )  }}"
    - condition: template
      value_template: "{{ ( states.sensor.bathroom_rambo_gh_rssi.state ) > ( states.sensor.office_rambo_gh_rssi.state )  }}"     
  action:
    - delay: '00:00:01'
    - condition: and
      conditions:
      - condition: template
        value_template: "{{ ( states.sensor.basement_rambo_gh_rssi.state ) > ( states.sensor.office_rambo_gh_rssi.state )  }}"
      - condition: template
        value_template: "{{ ( states.sensor.garage_rambo_gh_rssi.state ) > ( states.sensor.office_rambo_gh_rssi.state )  }}"
      - condition: template
        value_template: "{{ ( states.sensor.bedroom_rambo_gh_rssi.state ) > ( states.sensor.office_rambo_gh_rssi.state )  }}"
      - condition: template
        value_template: "{{ ( states.sensor.mainfloor_rambo_gh_rssi.state ) > ( states.sensor.office_rambo_gh_rssi.state )  }}"
      - condition: template
        value_template: "{{ ( states.sensor.entryway_rambo_gh_rssi.state ) > ( states.sensor.office_rambo_gh_rssi.state )  }}"
      - condition: template
        value_template: "{{ ( states.sensor.guestroom_rambo_gh_rssi.state ) > ( states.sensor.office_rambo_gh_rssi.state )  }}"
      - condition: template
        value_template: "{{ ( states.sensor.bathroom_rambo_gh_rssi.state ) > ( states.sensor.office_rambo_gh_rssi.state )  }}"  
    - service: input_boolean.turn_on
      data:
        entity_id: input_boolean.rambo_office_presence
    - service: input_boolean.turn_off
      data:
        entity_id: input_boolean.rambo_basement_presence
    - service: input_boolean.turn_off
      data:
        entity_id: input_boolean.rambo_garage_presence
    - service: input_boolean.turn_off
      data:
        entity_id: input_boolean.rambo_bedroom_presence
    - service: input_boolean.turn_off
      data:
        entity_id: input_boolean.rambo_mainfloor_presence
    - service: input_boolean.turn_off
      data:
        entity_id: input_boolean.rambo_entryway_presence
    - service: input_boolean.turn_off
      data:
        entity_id: input_boolean.rambo_guestroom_presence
    - service: input_boolean.turn_off
      data:
        entity_id: input_boolean.rambo_bathroom_presence
    - service: input_select.select_option
      data:
        entity_id: input_select.rambo_room_location
        option: Office

# Rambo is in the Main Floor using Google Home BT tracking
- alias: Rambo in Main Floor
  initial_state: 'on'
  trigger:
    platform: state
    entity_id: sensor.mainfloor_rambo_gh_rssi
  condition:
    condition: and
    conditions:
    - condition: template
      value_template: "{{ ( states.sensor.basement_rambo_gh_rssi.state ) > ( states.sensor.mainfloor_rambo_gh_rssi.state )  }}"
    - condition: template
      value_template: "{{ ( states.sensor.garage_rambo_gh_rssi.state ) > ( states.sensor.mainfloor_rambo_gh_rssi.state )  }}"
    - condition: template
      value_template: "{{ ( states.sensor.bedroom_rambo_gh_rssi.state ) > ( states.sensor.mainfloor_rambo_gh_rssi.state )  }}"
    - condition: template
      value_template: "{{ ( states.sensor.office_rambo_gh_rssi.state ) > ( states.sensor.mainfloor_rambo_gh_rssi.state )  }}"
    - condition: template
      value_template: "{{ ( states.sensor.entryway_rambo_gh_rssi.state ) > ( states.sensor.mainfloor_rambo_gh_rssi.state )  }}"
    - condition: template
      value_template: "{{ ( states.sensor.guestroom_rambo_gh_rssi.state ) > ( states.sensor.mainfloor_rambo_gh_rssi.state )  }}"
    - condition: template
      value_template: "{{ ( states.sensor.bathroom_rambo_gh_rssi.state ) > ( states.sensor.mainfloor_rambo_gh_rssi.state )  }}"     
  action:
    - delay: '00:00:01'
    - condition: and
      conditions:
      - condition: template
        value_template: "{{ ( states.sensor.basement_rambo_gh_rssi.state ) > ( states.sensor.mainfloor_rambo_gh_rssi.state )  }}"
      - condition: template
        value_template: "{{ ( states.sensor.garage_rambo_gh_rssi.state ) > ( states.sensor.mainfloor_rambo_gh_rssi.state )  }}"
      - condition: template
        value_template: "{{ ( states.sensor.bedroom_rambo_gh_rssi.state ) > ( states.sensor.mainfloor_rambo_gh_rssi.state )  }}"
      - condition: template
        value_template: "{{ ( states.sensor.office_rambo_gh_rssi.state ) > ( states.sensor.mainfloor_rambo_gh_rssi.state )  }}"
      - condition: template
        value_template: "{{ ( states.sensor.entryway_rambo_gh_rssi.state ) > ( states.sensor.mainfloor_rambo_gh_rssi.state )  }}"
      - condition: template
        value_template: "{{ ( states.sensor.guestroom_rambo_gh_rssi.state ) > ( states.sensor.mainfloor_rambo_gh_rssi.state )  }}"
      - condition: template
        value_template: "{{ ( states.sensor.bathroom_rambo_gh_rssi.state ) > ( states.sensor.mainfloor_rambo_gh_rssi.state )  }}"  
    - service: input_boolean.turn_on
      data:
        entity_id: input_boolean.rambo_mainfloor_presence
    - service: input_boolean.turn_off
      data:
        entity_id: input_boolean.rambo_basement_presence
    - service: input_boolean.turn_off
      data:
        entity_id: input_boolean.rambo_garage_presence
    - service: input_boolean.turn_off
      data:
        entity_id: input_boolean.rambo_bedroom_presence
    - service: input_boolean.turn_off
      data:
        entity_id: input_boolean.rambo_office_presence
    - service: input_boolean.turn_off
      data:
        entity_id: input_boolean.rambo_entryway_presence
    - service: input_boolean.turn_off
      data:
        entity_id: input_boolean.rambo_guestroom_presence
    - service: input_boolean.turn_off
      data:
        entity_id: input_boolean.rambo_bathroom_presence
    - service: input_select.select_option
      data:
        entity_id: input_select.rambo_room_location
        option: Main Floor

# Rambo is in the Entryway using Google Home BT tracking
- alias: Rambo in Entryway
  initial_state: 'on'
  trigger:
    platform: state
    entity_id: sensor.entryway_rambo_gh_rssi
  condition:
    condition: and
    conditions:
    - condition: template
      value_template: "{{ ( states.sensor.basement_rambo_gh_rssi.state ) > ( states.sensor.entryway_rambo_gh_rssi.state )  }}"
    - condition: template
      value_template: "{{ ( states.sensor.garage_rambo_gh_rssi.state ) > ( states.sensor.entryway_rambo_gh_rssi.state )  }}"
    - condition: template
      value_template: "{{ ( states.sensor.bedroom_rambo_gh_rssi.state ) > ( states.sensor.entryway_rambo_gh_rssi.state )  }}"
    - condition: template
      value_template: "{{ ( states.sensor.office_rambo_gh_rssi.state ) > ( states.sensor.entryway_rambo_gh_rssi.state )  }}"
    - condition: template
      value_template: "{{ ( states.sensor.mainfloor_rambo_gh_rssi.state ) > ( states.sensor.entryway_rambo_gh_rssi.state )  }}"
    - condition: template
      value_template: "{{ ( states.sensor.guestroom_rambo_gh_rssi.state ) > ( states.sensor.entryway_rambo_gh_rssi.state )  }}"
    - condition: template
      value_template: "{{ ( states.sensor.bathroom_rambo_gh_rssi.state ) > ( states.sensor.entryway_rambo_gh_rssi.state )  }}"     
  action:
    - delay: '00:00:01'
    - condition: and
      conditions:
      - condition: template
        value_template: "{{ ( states.sensor.basement_rambo_gh_rssi.state ) > ( states.sensor.entryway_rambo_gh_rssi.state )  }}"
      - condition: template
        value_template: "{{ ( states.sensor.garage_rambo_gh_rssi.state ) > ( states.sensor.entryway_rambo_gh_rssi.state )  }}"
      - condition: template
        value_template: "{{ ( states.sensor.bedroom_rambo_gh_rssi.state ) > ( states.sensor.entryway_rambo_gh_rssi.state )  }}"
      - condition: template
        value_template: "{{ ( states.sensor.office_rambo_gh_rssi.state ) > ( states.sensor.entryway_rambo_gh_rssi.state )  }}"
      - condition: template
        value_template: "{{ ( states.sensor.mainfloor_rambo_gh_rssi.state ) > ( states.sensor.entryway_rambo_gh_rssi.state )  }}"
      - condition: template
        value_template: "{{ ( states.sensor.guestroom_rambo_gh_rssi.state ) > ( states.sensor.entryway_rambo_gh_rssi.state )  }}"
      - condition: template
        value_template: "{{ ( states.sensor.bathroom_rambo_gh_rssi.state ) > ( states.sensor.entryway_rambo_gh_rssi.state )  }}"  
    - service: input_boolean.turn_on
      data:
        entity_id: input_boolean.rambo_entryway_presence
    - service: input_boolean.turn_off
      data:
        entity_id: input_boolean.rambo_basement_presence
    - service: input_boolean.turn_off
      data:
        entity_id: input_boolean.rambo_garage_presence
    - service: input_boolean.turn_off
      data:
        entity_id: input_boolean.rambo_bedroom_presence
    - service: input_boolean.turn_off
      data:
        entity_id: input_boolean.rambo_office_presence
    - service: input_boolean.turn_off
      data:
        entity_id: input_boolean.rambo_mainfloor_presence
    - service: input_boolean.turn_off
      data:
        entity_id: input_boolean.rambo_guestroom_presence
    - service: input_boolean.turn_off
      data:
        entity_id: input_boolean.rambo_bathroom_presence
    - service: input_select.select_option
      data:
        entity_id: input_select.rambo_room_location
        option: Entryway

# Rambo is in the Guest Room using Google Home BT tracking
- alias: Rambo in Guest Room
  initial_state: 'on'
  trigger:
    platform: state
    entity_id: sensor.guestroom_rambo_gh_rssi
  condition:
    condition: and
    conditions:
    - condition: template
      value_template: "{{ ( states.sensor.basement_rambo_gh_rssi.state ) > ( states.sensor.guestroom_rambo_gh_rssi.state )  }}"
    - condition: template
      value_template: "{{ ( states.sensor.garage_rambo_gh_rssi.state ) > ( states.sensor.guestroom_rambo_gh_rssi.state )  }}"
    - condition: template
      value_template: "{{ ( states.sensor.bedroom_rambo_gh_rssi.state ) > ( states.sensor.guestroom_rambo_gh_rssi.state )  }}"
    - condition: template
      value_template: "{{ ( states.sensor.office_rambo_gh_rssi.state ) > ( states.sensor.guestroom_rambo_gh_rssi.state )  }}"
    - condition: template
      value_template: "{{ ( states.sensor.mainfloor_rambo_gh_rssi.state ) > ( states.sensor.guestroom_rambo_gh_rssi.state )  }}"
    - condition: template
      value_template: "{{ ( states.sensor.entryway_rambo_gh_rssi.state ) > ( states.sensor.guestroom_rambo_gh_rssi.state )  }}"
    - condition: template
      value_template: "{{ ( states.sensor.bathroom_rambo_gh_rssi.state ) > ( states.sensor.guestroom_rambo_gh_rssi.state )  }}"     
  action:
    - delay: '00:00:01'
    - condition: and
      conditions:
      - condition: template
        value_template: "{{ ( states.sensor.basement_rambo_gh_rssi.state ) > ( states.sensor.guestroom_rambo_gh_rssi.state )  }}"
      - condition: template
        value_template: "{{ ( states.sensor.garage_rambo_gh_rssi.state ) > ( states.sensor.guestroom_rambo_gh_rssi.state )  }}"
      - condition: template
        value_template: "{{ ( states.sensor.bedroom_rambo_gh_rssi.state ) > ( states.sensor.guestroom_rambo_gh_rssi.state )  }}"
      - condition: template
        value_template: "{{ ( states.sensor.office_rambo_gh_rssi.state ) > ( states.sensor.guestroom_rambo_gh_rssi.state )  }}"
      - condition: template
        value_template: "{{ ( states.sensor.mainfloor_rambo_gh_rssi.state ) > ( states.sensor.guestroom_rambo_gh_rssi.state )  }}"
      - condition: template
        value_template: "{{ ( states.sensor.entryway_rambo_gh_rssi.state ) > ( states.sensor.guestroom_rambo_gh_rssi.state )  }}"
      - condition: template
        value_template: "{{ ( states.sensor.bathroom_rambo_gh_rssi.state ) > ( states.sensor.guestroom_rambo_gh_rssi.state )  }}"  
    - service: input_boolean.turn_on
      data:
        entity_id: input_boolean.rambo_guestroom_presence
    - service: input_boolean.turn_off
      data:
        entity_id: input_boolean.rambo_basement_presence
    - service: input_boolean.turn_off
      data:
        entity_id: input_boolean.rambo_garage_presence
    - service: input_boolean.turn_off
      data:
        entity_id: input_boolean.rambo_bedroom_presence
    - service: input_boolean.turn_off
      data:
        entity_id: input_boolean.rambo_office_presence
    - service: input_boolean.turn_off
      data:
        entity_id: input_boolean.rambo_mainfloor_presence
    - service: input_boolean.turn_off
      data:
        entity_id: input_boolean.rambo_entryway_presence
    - service: input_boolean.turn_off
      data:
        entity_id: input_boolean.rambo_bathroom_presence
    - service: input_select.select_option
      data:
        entity_id: input_select.rambo_room_location
        option: Guest Room

# Rambo is in the Bathroom using Google Home BT tracking
- alias: Rambo in Bathroom
  initial_state: 'on'
  trigger:
    platform: state
    entity_id: sensor.bathroom_rambo_gh_rssi
  condition:
    condition: and
    conditions:
    - condition: template
      value_template: "{{ ( states.sensor.basement_rambo_gh_rssi.state ) > ( states.sensor.bathroom_rambo_gh_rssi.state )  }}"
    - condition: template
      value_template: "{{ ( states.sensor.garage_rambo_gh_rssi.state ) > ( states.sensor.bathroom_rambo_gh_rssi.state )  }}"
    - condition: template
      value_template: "{{ ( states.sensor.bedroom_rambo_gh_rssi.state ) > ( states.sensor.bathroom_rambo_gh_rssi.state )  }}"
    - condition: template
      value_template: "{{ ( states.sensor.office_rambo_gh_rssi.state ) > ( states.sensor.bathroom_rambo_gh_rssi.state )  }}"
    - condition: template
      value_template: "{{ ( states.sensor.mainfloor_rambo_gh_rssi.state ) > ( states.sensor.bathroom_rambo_gh_rssi.state )  }}"
    - condition: template
      value_template: "{{ ( states.sensor.entryway_rambo_gh_rssi.state ) > ( states.sensor.bathroom_rambo_gh_rssi.state )  }}"
    - condition: template
      value_template: "{{ ( states.sensor.guestroom_rambo_gh_rssi.state ) > ( states.sensor.bathroom_rambo_gh_rssi.state )  }}"     
  action:
    - delay: '00:00:01'
    - condition: and
      conditions:
      - condition: template
        value_template: "{{ ( states.sensor.basement_rambo_gh_rssi.state ) > ( states.sensor.bathroom_rambo_gh_rssi.state )  }}"
      - condition: template
        value_template: "{{ ( states.sensor.garage_rambo_gh_rssi.state ) > ( states.sensor.bathroom_rambo_gh_rssi.state )  }}"
      - condition: template
        value_template: "{{ ( states.sensor.bedroom_rambo_gh_rssi.state ) > ( states.sensor.bathroom_rambo_gh_rssi.state )  }}"
      - condition: template
        value_template: "{{ ( states.sensor.office_rambo_gh_rssi.state ) > ( states.sensor.bathroom_rambo_gh_rssi.state )  }}"
      - condition: template
        value_template: "{{ ( states.sensor.mainfloor_rambo_gh_rssi.state ) > ( states.sensor.bathroom_rambo_gh_rssi.state )  }}"
      - condition: template
        value_template: "{{ ( states.sensor.entryway_rambo_gh_rssi.state ) > ( states.sensor.bathroom_rambo_gh_rssi.state )  }}"
      - condition: template
        value_template: "{{ ( states.sensor.guestroom_rambo_gh_rssi.state ) > ( states.sensor.bathroom_rambo_gh_rssi.state )  }}"  
    - service: input_boolean.turn_on
      data:
        entity_id: input_boolean.rambo_bathroom_presence
    - service: input_boolean.turn_off
      data:
        entity_id: input_boolean.rambo_basement_presence
    - service: input_boolean.turn_off
      data:
        entity_id: input_boolean.rambo_garage_presence
    - service: input_boolean.turn_off
      data:
        entity_id: input_boolean.rambo_bedroom_presence
    - service: input_boolean.turn_off
      data:
        entity_id: input_boolean.rambo_office_presence
    - service: input_boolean.turn_off
      data:
        entity_id: input_boolean.rambo_mainfloor_presence
    - service: input_boolean.turn_off
      data:
        entity_id: input_boolean.rambo_entryway_presence
    - service: input_boolean.turn_off
      data:
        entity_id: input_boolean.rambo_guestroom_presence
    - service: input_select.select_option
      data:
        entity_id: input_select.rambo_room_location
        option: Bathroom
