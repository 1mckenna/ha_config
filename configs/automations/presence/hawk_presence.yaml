# Hawk is in the Basement using Google Home BT tracking
- alias: Hawk in Basement
  initial_state: 'on'
  trigger:
    platform: state
    entity_id: sensor.basement_hawk_gh_rssi
  condition:
    condition: and
    conditions:
    - condition: template
      value_template: "{{ ( states.sensor.garage_hawk_gh_rssi.state ) > ( states.sensor.basement_hawk_gh_rssi.state )  }}"
    - condition: template
      value_template: "{{ ( states.sensor.bedroom_hawk_gh_rssi.state ) > ( states.sensor.basement_hawk_gh_rssi.state )  }}"
    - condition: template
      value_template: "{{ ( states.sensor.office_hawk_gh_rssi.state ) > ( states.sensor.basement_hawk_gh_rssi.state )  }}"
    - condition: template
      value_template: "{{ ( states.sensor.mainfloor_hawk_gh_rssi.state ) > ( states.sensor.basement_hawk_gh_rssi.state )  }}"
    - condition: template
      value_template: "{{ ( states.sensor.entryway_hawk_gh_rssi.state ) > ( states.sensor.basement_hawk_gh_rssi.state )  }}"
    - condition: template
      value_template: "{{ ( states.sensor.guestroom_hawk_gh_rssi.state ) > ( states.sensor.basement_hawk_gh_rssi.state )  }}"
    - condition: template
      value_template: "{{ ( states.sensor.bathroom_hawk_gh_rssi.state ) > ( states.sensor.basement_hawk_gh_rssi.state )  }}"     
  action:
    - delay: '00:00:01'
    - condition: and
      conditions:
      - condition: template
        value_template: "{{ ( states.sensor.garage_hawk_gh_rssi.state ) > ( states.sensor.basement_hawk_gh_rssi.state )  }}"
      - condition: template
        value_template: "{{ ( states.sensor.bedroom_hawk_gh_rssi.state ) > ( states.sensor.basement_hawk_gh_rssi.state )  }}"
      - condition: template
        value_template: "{{ ( states.sensor.office_hawk_gh_rssi.state ) > ( states.sensor.basement_hawk_gh_rssi.state )  }}"
      - condition: template
        value_template: "{{ ( states.sensor.mainfloor_hawk_gh_rssi.state ) > ( states.sensor.basement_hawk_gh_rssi.state )  }}"
      - condition: template
        value_template: "{{ ( states.sensor.entryway_hawk_gh_rssi.state ) > ( states.sensor.basement_hawk_gh_rssi.state )  }}"
      - condition: template
        value_template: "{{ ( states.sensor.guestroom_hawk_gh_rssi.state ) > ( states.sensor.basement_hawk_gh_rssi.state )  }}"
      - condition: template
        value_template: "{{ ( states.sensor.bathroom_hawk_gh_rssi.state ) > ( states.sensor.basement_hawk_gh_rssi.state )  }}"  
    - service: input_boolean.turn_on
      data:
        entity_id: input_boolean.hawk_basement_presence
    - service: input_boolean.turn_off
      data:
        entity_id: input_boolean.hawk_garage_presence
    - service: input_boolean.turn_off
      data:
        entity_id: input_boolean.hawk_bedroom_presence
    - service: input_boolean.turn_off
      data:
        entity_id: input_boolean.hawk_office_presence
    - service: input_boolean.turn_off
      data:
        entity_id: input_boolean.hawk_mainfloor_presence
    - service: input_boolean.turn_off
      data:
        entity_id: input_boolean.hawk_entryway_presence
    - service: input_boolean.turn_off
      data:
        entity_id: input_boolean.hawk_guestroom_presence
    - service: input_boolean.turn_off
      data:
        entity_id: input_boolean.hawk_bathroom_presence
    - service: input_select.select_option
      data:
        entity_id: input_select.hawk_room_location
        option: Basement

# Hawk is in the Garage using Google Home BT tracking
- alias: Hawk in Garage
  initial_state: 'on'
  trigger:
    platform: state
    entity_id: sensor.garage_hawk_gh_rssi
  condition:
    condition: and
    conditions:
    - condition: template
      value_template: "{{ ( states.sensor.basement_hawk_gh_rssi.state ) > ( states.sensor.garage_hawk_gh_rssi.state )  }}"
    - condition: template
      value_template: "{{ ( states.sensor.bedroom_hawk_gh_rssi.state ) > ( states.sensor.garage_hawk_gh_rssi.state )  }}"
    - condition: template
      value_template: "{{ ( states.sensor.office_hawk_gh_rssi.state ) > ( states.sensor.garage_hawk_gh_rssi.state )  }}"
    - condition: template
      value_template: "{{ ( states.sensor.mainfloor_hawk_gh_rssi.state ) > ( states.sensor.garage_hawk_gh_rssi.state )  }}"
    - condition: template
      value_template: "{{ ( states.sensor.entryway_hawk_gh_rssi.state ) > ( states.sensor.garage_hawk_gh_rssi.state )  }}"
    - condition: template
      value_template: "{{ ( states.sensor.guestroom_hawk_gh_rssi.state ) > ( states.sensor.garage_hawk_gh_rssi.state )  }}"
    - condition: template
      value_template: "{{ ( states.sensor.bathroom_hawk_gh_rssi.state ) > ( states.sensor.garage_hawk_gh_rssi.state )  }}"     
  action:
    - delay: '00:00:01'
    - condition: and
      conditions:
      - condition: template
        value_template: "{{ ( states.sensor.basement_hawk_gh_rssi.state ) > ( states.sensor.garage_hawk_gh_rssi.state )  }}"
      - condition: template
        value_template: "{{ ( states.sensor.bedroom_hawk_gh_rssi.state ) > ( states.sensor.garage_hawk_gh_rssi.state )  }}"
      - condition: template
        value_template: "{{ ( states.sensor.office_hawk_gh_rssi.state ) > ( states.sensor.garage_hawk_gh_rssi.state )  }}"
      - condition: template
        value_template: "{{ ( states.sensor.mainfloor_hawk_gh_rssi.state ) > ( states.sensor.garage_hawk_gh_rssi.state )  }}"
      - condition: template
        value_template: "{{ ( states.sensor.entryway_hawk_gh_rssi.state ) > ( states.sensor.garage_hawk_gh_rssi.state )  }}"
      - condition: template
        value_template: "{{ ( states.sensor.guestroom_hawk_gh_rssi.state ) > ( states.sensor.garage_hawk_gh_rssi.state )  }}"
      - condition: template
        value_template: "{{ ( states.sensor.bathroom_hawk_gh_rssi.state ) > ( states.sensor.garage_hawk_gh_rssi.state )  }}"  
    - service: input_boolean.turn_on
      data:
        entity_id: input_boolean.hawk_garage_presence
    - service: input_boolean.turn_off
      data:
        entity_id: input_boolean.hawk_basement_presence
    - service: input_boolean.turn_off
      data:
        entity_id: input_boolean.hawk_bedroom_presence
    - service: input_boolean.turn_off
      data:
        entity_id: input_boolean.hawk_office_presence
    - service: input_boolean.turn_off
      data:
        entity_id: input_boolean.hawk_mainfloor_presence
    - service: input_boolean.turn_off
      data:
        entity_id: input_boolean.hawk_entryway_presence
    - service: input_boolean.turn_off
      data:
        entity_id: input_boolean.hawk_guestroom_presence
    - service: input_boolean.turn_off
      data:
        entity_id: input_boolean.hawk_bathroom_presence
    - service: input_select.select_option
      data:
        entity_id: input_select.hawk_room_location
        option: Garage


# Hawk is in the Bedroom using Google Home BT tracking
- alias: Hawk in Bedroom
  initial_state: 'on'
  trigger:
    platform: state
    entity_id: sensor.bedroom_hawk_gh_rssi
  condition:
    condition: and
    conditions:
    - condition: template
      value_template: "{{ ( states.sensor.basement_hawk_gh_rssi.state ) > ( states.sensor.bedroom_hawk_gh_rssi.state )  }}"
    - condition: template
      value_template: "{{ ( states.sensor.garage_hawk_gh_rssi.state ) > ( states.sensor.bedroom_hawk_gh_rssi.state )  }}"
    - condition: template
      value_template: "{{ ( states.sensor.office_hawk_gh_rssi.state ) > ( states.sensor.bedroom_hawk_gh_rssi.state )  }}"
    - condition: template
      value_template: "{{ ( states.sensor.mainfloor_hawk_gh_rssi.state ) > ( states.sensor.bedroom_hawk_gh_rssi.state )  }}"
    - condition: template
      value_template: "{{ ( states.sensor.entryway_hawk_gh_rssi.state ) > ( states.sensor.bedroom_hawk_gh_rssi.state )  }}"
    - condition: template
      value_template: "{{ ( states.sensor.guestroom_hawk_gh_rssi.state ) > ( states.sensor.bedroom_hawk_gh_rssi.state )  }}"
    - condition: template
      value_template: "{{ ( states.sensor.bathroom_hawk_gh_rssi.state ) > ( states.sensor.bedroom_hawk_gh_rssi.state )  }}"     
  action:
    - delay: '00:00:01'
    - condition: and
      conditions:
      - condition: template
        value_template: "{{ ( states.sensor.basement_hawk_gh_rssi.state ) > ( states.sensor.bedroom_hawk_gh_rssi.state )  }}"
      - condition: template
        value_template: "{{ ( states.sensor.garage_hawk_gh_rssi.state ) > ( states.sensor.bedroom_hawk_gh_rssi.state )  }}"
      - condition: template
        value_template: "{{ ( states.sensor.office_hawk_gh_rssi.state ) > ( states.sensor.bedroom_hawk_gh_rssi.state )  }}"
      - condition: template
        value_template: "{{ ( states.sensor.mainfloor_hawk_gh_rssi.state ) > ( states.sensor.bedroom_hawk_gh_rssi.state )  }}"
      - condition: template
        value_template: "{{ ( states.sensor.entryway_hawk_gh_rssi.state ) > ( states.sensor.bedroom_hawk_gh_rssi.state )  }}"
      - condition: template
        value_template: "{{ ( states.sensor.guestroom_hawk_gh_rssi.state ) > ( states.sensor.bedroom_hawk_gh_rssi.state )  }}"
      - condition: template
        value_template: "{{ ( states.sensor.bathroom_hawk_gh_rssi.state ) > ( states.sensor.bedroom_hawk_gh_rssi.state )  }}"  
    - service: input_boolean.turn_on
      data:
        entity_id: input_boolean.hawk_bedroom_presence
    - service: input_boolean.turn_off
      data:
        entity_id: input_boolean.hawk_basement_presence
    - service: input_boolean.turn_off
      data:
        entity_id: input_boolean.hawk_garage_presence
    - service: input_boolean.turn_off
      data:
        entity_id: input_boolean.hawk_office_presence
    - service: input_boolean.turn_off
      data:
        entity_id: input_boolean.hawk_mainfloor_presence
    - service: input_boolean.turn_off
      data:
        entity_id: input_boolean.hawk_entryway_presence
    - service: input_boolean.turn_off
      data:
        entity_id: input_boolean.hawk_guestroom_presence
    - service: input_boolean.turn_off
      data:
        entity_id: input_boolean.hawk_bathroom_presence
    - service: input_select.select_option
      data:
        entity_id: input_select.hawk_room_location
        option: Bedroom


# Hawk is in the Office using Google Home BT tracking
- alias: Hawk in Office
  initial_state: 'on'
  trigger:
    platform: state
    entity_id: sensor.office_hawk_gh_rssi
  condition:
    condition: and
    conditions:
    - condition: template
      value_template: "{{ ( states.sensor.basement_hawk_gh_rssi.state ) > ( states.sensor.office_hawk_gh_rssi.state )  }}"
    - condition: template
      value_template: "{{ ( states.sensor.garage_hawk_gh_rssi.state ) > ( states.sensor.office_hawk_gh_rssi.state )  }}"
    - condition: template
      value_template: "{{ ( states.sensor.bedroom_hawk_gh_rssi.state ) > ( states.sensor.office_hawk_gh_rssi.state )  }}"
    - condition: template
      value_template: "{{ ( states.sensor.mainfloor_hawk_gh_rssi.state ) > ( states.sensor.office_hawk_gh_rssi.state )  }}"
    - condition: template
      value_template: "{{ ( states.sensor.entryway_hawk_gh_rssi.state ) > ( states.sensor.office_hawk_gh_rssi.state )  }}"
    - condition: template
      value_template: "{{ ( states.sensor.guestroom_hawk_gh_rssi.state ) > ( states.sensor.office_hawk_gh_rssi.state )  }}"
    - condition: template
      value_template: "{{ ( states.sensor.bathroom_hawk_gh_rssi.state ) > ( states.sensor.office_hawk_gh_rssi.state )  }}"     
  action:
    - delay: '00:00:01'
    - condition: and
      conditions:
      - condition: template
        value_template: "{{ ( states.sensor.basement_hawk_gh_rssi.state ) > ( states.sensor.office_hawk_gh_rssi.state )  }}"
      - condition: template
        value_template: "{{ ( states.sensor.garage_hawk_gh_rssi.state ) > ( states.sensor.office_hawk_gh_rssi.state )  }}"
      - condition: template
        value_template: "{{ ( states.sensor.bedroom_hawk_gh_rssi.state ) > ( states.sensor.office_hawk_gh_rssi.state )  }}"
      - condition: template
        value_template: "{{ ( states.sensor.mainfloor_hawk_gh_rssi.state ) > ( states.sensor.office_hawk_gh_rssi.state )  }}"
      - condition: template
        value_template: "{{ ( states.sensor.entryway_hawk_gh_rssi.state ) > ( states.sensor.office_hawk_gh_rssi.state )  }}"
      - condition: template
        value_template: "{{ ( states.sensor.guestroom_hawk_gh_rssi.state ) > ( states.sensor.office_hawk_gh_rssi.state )  }}"
      - condition: template
        value_template: "{{ ( states.sensor.bathroom_hawk_gh_rssi.state ) > ( states.sensor.office_hawk_gh_rssi.state )  }}"  
    - service: input_boolean.turn_on
      data:
        entity_id: input_boolean.hawk_office_presence
    - service: input_boolean.turn_off
      data:
        entity_id: input_boolean.hawk_basement_presence
    - service: input_boolean.turn_off
      data:
        entity_id: input_boolean.hawk_garage_presence
    - service: input_boolean.turn_off
      data:
        entity_id: input_boolean.hawk_bedroom_presence
    - service: input_boolean.turn_off
      data:
        entity_id: input_boolean.hawk_mainfloor_presence
    - service: input_boolean.turn_off
      data:
        entity_id: input_boolean.hawk_entryway_presence
    - service: input_boolean.turn_off
      data:
        entity_id: input_boolean.hawk_guestroom_presence
    - service: input_boolean.turn_off
      data:
        entity_id: input_boolean.hawk_bathroom_presence
    - service: input_select.select_option
      data:
        entity_id: input_select.hawk_room_location
        option: Office

# Hawk is in the Main Floor using Google Home BT tracking
- alias: Hawk in Main Floor
  initial_state: 'on'
  trigger:
    platform: state
    entity_id: sensor.mainfloor_hawk_gh_rssi
  condition:
    condition: and
    conditions:
    - condition: template
      value_template: "{{ ( states.sensor.basement_hawk_gh_rssi.state ) > ( states.sensor.mainfloor_hawk_gh_rssi.state )  }}"
    - condition: template
      value_template: "{{ ( states.sensor.garage_hawk_gh_rssi.state ) > ( states.sensor.mainfloor_hawk_gh_rssi.state )  }}"
    - condition: template
      value_template: "{{ ( states.sensor.bedroom_hawk_gh_rssi.state ) > ( states.sensor.mainfloor_hawk_gh_rssi.state )  }}"
    - condition: template
      value_template: "{{ ( states.sensor.office_hawk_gh_rssi.state ) > ( states.sensor.mainfloor_hawk_gh_rssi.state )  }}"
    - condition: template
      value_template: "{{ ( states.sensor.entryway_hawk_gh_rssi.state ) > ( states.sensor.mainfloor_hawk_gh_rssi.state )  }}"
    - condition: template
      value_template: "{{ ( states.sensor.guestroom_hawk_gh_rssi.state ) > ( states.sensor.mainfloor_hawk_gh_rssi.state )  }}"
    - condition: template
      value_template: "{{ ( states.sensor.bathroom_hawk_gh_rssi.state ) > ( states.sensor.mainfloor_hawk_gh_rssi.state )  }}"     
  action:
    - delay: '00:00:01'
    - condition: and
      conditions:
      - condition: template
        value_template: "{{ ( states.sensor.basement_hawk_gh_rssi.state ) > ( states.sensor.mainfloor_hawk_gh_rssi.state )  }}"
      - condition: template
        value_template: "{{ ( states.sensor.garage_hawk_gh_rssi.state ) > ( states.sensor.mainfloor_hawk_gh_rssi.state )  }}"
      - condition: template
        value_template: "{{ ( states.sensor.bedroom_hawk_gh_rssi.state ) > ( states.sensor.mainfloor_hawk_gh_rssi.state )  }}"
      - condition: template
        value_template: "{{ ( states.sensor.office_hawk_gh_rssi.state ) > ( states.sensor.mainfloor_hawk_gh_rssi.state )  }}"
      - condition: template
        value_template: "{{ ( states.sensor.entryway_hawk_gh_rssi.state ) > ( states.sensor.mainfloor_hawk_gh_rssi.state )  }}"
      - condition: template
        value_template: "{{ ( states.sensor.guestroom_hawk_gh_rssi.state ) > ( states.sensor.mainfloor_hawk_gh_rssi.state )  }}"
      - condition: template
        value_template: "{{ ( states.sensor.bathroom_hawk_gh_rssi.state ) > ( states.sensor.mainfloor_hawk_gh_rssi.state )  }}"  
    - service: input_boolean.turn_on
      data:
        entity_id: input_boolean.hawk_mainfloor_presence
    - service: input_boolean.turn_off
      data:
        entity_id: input_boolean.hawk_basement_presence
    - service: input_boolean.turn_off
      data:
        entity_id: input_boolean.hawk_garage_presence
    - service: input_boolean.turn_off
      data:
        entity_id: input_boolean.hawk_bedroom_presence
    - service: input_boolean.turn_off
      data:
        entity_id: input_boolean.hawk_office_presence
    - service: input_boolean.turn_off
      data:
        entity_id: input_boolean.hawk_entryway_presence
    - service: input_boolean.turn_off
      data:
        entity_id: input_boolean.hawk_guestroom_presence
    - service: input_boolean.turn_off
      data:
        entity_id: input_boolean.hawk_bathroom_presence
    - service: input_select.select_option
      data:
        entity_id: input_select.hawk_room_location
        option: Main Floor

# Hawk is in the Entryway using Google Home BT tracking
- alias: Hawk in Entryway
  initial_state: 'on'
  trigger:
    platform: state
    entity_id: sensor.entryway_hawk_gh_rssi
  condition:
    condition: and
    conditions:
    - condition: template
      value_template: "{{ ( states.sensor.basement_hawk_gh_rssi.state ) > ( states.sensor.entryway_hawk_gh_rssi.state )  }}"
    - condition: template
      value_template: "{{ ( states.sensor.garage_hawk_gh_rssi.state ) > ( states.sensor.entryway_hawk_gh_rssi.state )  }}"
    - condition: template
      value_template: "{{ ( states.sensor.bedroom_hawk_gh_rssi.state ) > ( states.sensor.entryway_hawk_gh_rssi.state )  }}"
    - condition: template
      value_template: "{{ ( states.sensor.office_hawk_gh_rssi.state ) > ( states.sensor.entryway_hawk_gh_rssi.state )  }}"
    - condition: template
      value_template: "{{ ( states.sensor.mainfloor_hawk_gh_rssi.state ) > ( states.sensor.entryway_hawk_gh_rssi.state )  }}"
    - condition: template
      value_template: "{{ ( states.sensor.guestroom_hawk_gh_rssi.state ) > ( states.sensor.entryway_hawk_gh_rssi.state )  }}"
    - condition: template
      value_template: "{{ ( states.sensor.bathroom_hawk_gh_rssi.state ) > ( states.sensor.entryway_hawk_gh_rssi.state )  }}"     
  action:
    - delay: '00:00:01'
    - condition: and
      conditions:
      - condition: template
        value_template: "{{ ( states.sensor.basement_hawk_gh_rssi.state ) > ( states.sensor.entryway_hawk_gh_rssi.state )  }}"
      - condition: template
        value_template: "{{ ( states.sensor.garage_hawk_gh_rssi.state ) > ( states.sensor.entryway_hawk_gh_rssi.state )  }}"
      - condition: template
        value_template: "{{ ( states.sensor.bedroom_hawk_gh_rssi.state ) > ( states.sensor.entryway_hawk_gh_rssi.state )  }}"
      - condition: template
        value_template: "{{ ( states.sensor.office_hawk_gh_rssi.state ) > ( states.sensor.entryway_hawk_gh_rssi.state )  }}"
      - condition: template
        value_template: "{{ ( states.sensor.mainfloor_hawk_gh_rssi.state ) > ( states.sensor.entryway_hawk_gh_rssi.state )  }}"
      - condition: template
        value_template: "{{ ( states.sensor.guestroom_hawk_gh_rssi.state ) > ( states.sensor.entryway_hawk_gh_rssi.state )  }}"
      - condition: template
        value_template: "{{ ( states.sensor.bathroom_hawk_gh_rssi.state ) > ( states.sensor.entryway_hawk_gh_rssi.state )  }}"  
    - service: input_boolean.turn_on
      data:
        entity_id: input_boolean.hawk_entryway_presence
    - service: input_boolean.turn_off
      data:
        entity_id: input_boolean.hawk_basement_presence
    - service: input_boolean.turn_off
      data:
        entity_id: input_boolean.hawk_garage_presence
    - service: input_boolean.turn_off
      data:
        entity_id: input_boolean.hawk_bedroom_presence
    - service: input_boolean.turn_off
      data:
        entity_id: input_boolean.hawk_office_presence
    - service: input_boolean.turn_off
      data:
        entity_id: input_boolean.hawk_mainfloor_presence
    - service: input_boolean.turn_off
      data:
        entity_id: input_boolean.hawk_guestroom_presence
    - service: input_boolean.turn_off
      data:
        entity_id: input_boolean.hawk_bathroom_presence
    - service: input_select.select_option
      data:
        entity_id: input_select.hawk_room_location
        option: Entryway

# Hawk is in the Guest Room using Google Home BT tracking
- alias: Hawk in Guest Room
  initial_state: 'on'
  trigger:
    platform: state
    entity_id: sensor.guestroom_hawk_gh_rssi
  condition:
    condition: and
    conditions:
    - condition: template
      value_template: "{{ ( states.sensor.basement_hawk_gh_rssi.state ) > ( states.sensor.guestroom_hawk_gh_rssi.state )  }}"
    - condition: template
      value_template: "{{ ( states.sensor.garage_hawk_gh_rssi.state ) > ( states.sensor.guestroom_hawk_gh_rssi.state )  }}"
    - condition: template
      value_template: "{{ ( states.sensor.bedroom_hawk_gh_rssi.state ) > ( states.sensor.guestroom_hawk_gh_rssi.state )  }}"
    - condition: template
      value_template: "{{ ( states.sensor.office_hawk_gh_rssi.state ) > ( states.sensor.guestroom_hawk_gh_rssi.state )  }}"
    - condition: template
      value_template: "{{ ( states.sensor.mainfloor_hawk_gh_rssi.state ) > ( states.sensor.guestroom_hawk_gh_rssi.state )  }}"
    - condition: template
      value_template: "{{ ( states.sensor.entryway_hawk_gh_rssi.state ) > ( states.sensor.guestroom_hawk_gh_rssi.state )  }}"
    - condition: template
      value_template: "{{ ( states.sensor.bathroom_hawk_gh_rssi.state ) > ( states.sensor.guestroom_hawk_gh_rssi.state )  }}"     
  action:
    - delay: '00:00:01'
    - condition: and
      conditions:
      - condition: template
        value_template: "{{ ( states.sensor.basement_hawk_gh_rssi.state ) > ( states.sensor.guestroom_hawk_gh_rssi.state )  }}"
      - condition: template
        value_template: "{{ ( states.sensor.garage_hawk_gh_rssi.state ) > ( states.sensor.guestroom_hawk_gh_rssi.state )  }}"
      - condition: template
        value_template: "{{ ( states.sensor.bedroom_hawk_gh_rssi.state ) > ( states.sensor.guestroom_hawk_gh_rssi.state )  }}"
      - condition: template
        value_template: "{{ ( states.sensor.office_hawk_gh_rssi.state ) > ( states.sensor.guestroom_hawk_gh_rssi.state )  }}"
      - condition: template
        value_template: "{{ ( states.sensor.mainfloor_hawk_gh_rssi.state ) > ( states.sensor.guestroom_hawk_gh_rssi.state )  }}"
      - condition: template
        value_template: "{{ ( states.sensor.entryway_hawk_gh_rssi.state ) > ( states.sensor.guestroom_hawk_gh_rssi.state )  }}"
      - condition: template
        value_template: "{{ ( states.sensor.bathroom_hawk_gh_rssi.state ) > ( states.sensor.guestroom_hawk_gh_rssi.state )  }}"  
    - service: input_boolean.turn_on
      data:
        entity_id: input_boolean.hawk_guestroom_presence
    - service: input_boolean.turn_off
      data:
        entity_id: input_boolean.hawk_basement_presence
    - service: input_boolean.turn_off
      data:
        entity_id: input_boolean.hawk_garage_presence
    - service: input_boolean.turn_off
      data:
        entity_id: input_boolean.hawk_bedroom_presence
    - service: input_boolean.turn_off
      data:
        entity_id: input_boolean.hawk_office_presence
    - service: input_boolean.turn_off
      data:
        entity_id: input_boolean.hawk_mainfloor_presence
    - service: input_boolean.turn_off
      data:
        entity_id: input_boolean.hawk_entryway_presence
    - service: input_boolean.turn_off
      data:
        entity_id: input_boolean.hawk_bathroom_presence
    - service: input_select.select_option
      data:
        entity_id: input_select.hawk_room_location
        option: Guest Room

# Hawk is in the Bathroom using Google Home BT tracking
- alias: Hawk in Bathroom
  initial_state: 'on'
  trigger:
    platform: state
    entity_id: sensor.bathroom_hawk_gh_rssi
  condition:
    condition: and
    conditions:
    - condition: template
      value_template: "{{ ( states.sensor.basement_hawk_gh_rssi.state ) > ( states.sensor.bathroom_hawk_gh_rssi.state )  }}"
    - condition: template
      value_template: "{{ ( states.sensor.garage_hawk_gh_rssi.state ) > ( states.sensor.bathroom_hawk_gh_rssi.state )  }}"
    - condition: template
      value_template: "{{ ( states.sensor.bedroom_hawk_gh_rssi.state ) > ( states.sensor.bathroom_hawk_gh_rssi.state )  }}"
    - condition: template
      value_template: "{{ ( states.sensor.office_hawk_gh_rssi.state ) > ( states.sensor.bathroom_hawk_gh_rssi.state )  }}"
    - condition: template
      value_template: "{{ ( states.sensor.mainfloor_hawk_gh_rssi.state ) > ( states.sensor.bathroom_hawk_gh_rssi.state )  }}"
    - condition: template
      value_template: "{{ ( states.sensor.entryway_hawk_gh_rssi.state ) > ( states.sensor.bathroom_hawk_gh_rssi.state )  }}"
    - condition: template
      value_template: "{{ ( states.sensor.guestroom_hawk_gh_rssi.state ) > ( states.sensor.bathroom_hawk_gh_rssi.state )  }}"     
  action:
    - delay: '00:00:01'
    - condition: and
      conditions:
      - condition: template
        value_template: "{{ ( states.sensor.basement_hawk_gh_rssi.state ) > ( states.sensor.bathroom_hawk_gh_rssi.state )  }}"
      - condition: template
        value_template: "{{ ( states.sensor.garage_hawk_gh_rssi.state ) > ( states.sensor.bathroom_hawk_gh_rssi.state )  }}"
      - condition: template
        value_template: "{{ ( states.sensor.bedroom_hawk_gh_rssi.state ) > ( states.sensor.bathroom_hawk_gh_rssi.state )  }}"
      - condition: template
        value_template: "{{ ( states.sensor.office_hawk_gh_rssi.state ) > ( states.sensor.bathroom_hawk_gh_rssi.state )  }}"
      - condition: template
        value_template: "{{ ( states.sensor.mainfloor_hawk_gh_rssi.state ) > ( states.sensor.bathroom_hawk_gh_rssi.state )  }}"
      - condition: template
        value_template: "{{ ( states.sensor.entryway_hawk_gh_rssi.state ) > ( states.sensor.bathroom_hawk_gh_rssi.state )  }}"
      - condition: template
        value_template: "{{ ( states.sensor.guestroom_hawk_gh_rssi.state ) > ( states.sensor.bathroom_hawk_gh_rssi.state )  }}"  
    - service: input_boolean.turn_on
      data:
        entity_id: input_boolean.hawk_bathroom_presence
    - service: input_boolean.turn_off
      data:
        entity_id: input_boolean.hawk_basement_presence
    - service: input_boolean.turn_off
      data:
        entity_id: input_boolean.hawk_garage_presence
    - service: input_boolean.turn_off
      data:
        entity_id: input_boolean.hawk_bedroom_presence
    - service: input_boolean.turn_off
      data:
        entity_id: input_boolean.hawk_office_presence
    - service: input_boolean.turn_off
      data:
        entity_id: input_boolean.hawk_mainfloor_presence
    - service: input_boolean.turn_off
      data:
        entity_id: input_boolean.hawk_entryway_presence
    - service: input_boolean.turn_off
      data:
        entity_id: input_boolean.hawk_guestroom_presence
    - service: input_select.select_option
      data:
        entity_id: input_select.hawk_room_location
        option: Bathroom
